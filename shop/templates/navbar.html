<header>
    <div class="container py-2">
      <div class="row py-4 pb-0 pb-sm-4 align-items-center ">

        <div class="col-sm-4 col-lg-3 text-center text-sm-start">
          <div class="main-logo">
            <a href="{{url_for('home')}}">
              <img src="{{url_for('static' , filename='images/logo.png')}}" alt="logo" class="img-fluid">
            </a>
          </div>
        </div>

        <div class="col-sm-6 offset-sm-2 offset-md-0 col-lg-5 d-none d-lg-block">
          <div class="search-bar border rounded-2 px-3 border-dark-subtle">
            <form id="search-form" class="text-center d-flex align-items-center" action="{{url_for('search')}}" method="post">
              <input type="text" class="form-control border-0 bg-transparent"
                placeholder="Search for more than 10,000 products" name="search" />
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path fill="currentColor"
                  d="M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z" />
              </svg>
            </form>
          </div>
        </div>

        {% if current_user.is_authenticated %}
        <div
          class="col-sm-8 col-lg-4 d-flex justify-content-end gap-5 align-items-center mt-4 mt-sm-0 justify-content-center justify-content-sm-end">
          
          <div class="support-box text-end d-none d-xl-block">
            
            <span class="fs-6 secondary-font text-muted">Logout:</span> &nbsp;
            <a href="{{url_for('log_out')}}" class="mx-3">
            <iconify-icon icon="material-symbols:logout" width="20" height="20"></iconify-icon></a>
            <h5 class="mb-0">{{current_user.email}}</h5>
          </div>

          {% else %}
          <div
          class="col-sm-8 col-lg-4 d-flex justify-content-end gap-5 align-items-center mt-4 mt-sm-0 justify-content-center justify-content-sm-end">
          
          <div class="support-box text-end d-none d-xl-block">
            
            <span class="fs-6 secondary-font text-muted">Login:</span> &nbsp;
            <a href="{{url_for('log_in')}}" class="mx-3">
            <iconify-icon icon="mynaui:login" width="20" height="20"></iconify-icon></a>
            <h5 class="mb-0">{{current_user.email}}</h5>
          </div>
          {% endif %}


        </div>
      </div>
    </div>

    <div class="container-fluid">
      <hr class="m-0">
    </div>

    <div class="container">
      <nav class="main-menu d-flex navbar navbar-expand-lg ">

        <div class="d-flex d-lg-none align-items-end mt-3">
          <ul class="d-flex justify-content-end list-unstyled m-0">
            <li>
              <a href="account.html" class="mx-3">
                <iconify-icon icon="healthicons:person" class="fs-4"></iconify-icon>
              </a>
            </li>
            <li>
              <a href="{{url_for('liked_products')}}" class="mx-3">
                <iconify-icon icon="mdi:heart" class="fs-4"></iconify-icon>
              </a>
            </li>

            <li>
              <a href="#" class="mx-3" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCart"
                aria-controls="offcanvasCart">
                <iconify-icon icon="mdi:cart" class="fs-4 position-relative"></iconify-icon>
                <span class="position-absolute translate-middle badge rounded-circle bg-primary pt-2">
                  03
                </span>
              </a>
            </li>

            <li>
              <a href="#" class="mx-3" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSearch"
                aria-controls="offcanvasSearch">
                <iconify-icon icon="tabler:search" class="fs-4"></iconify-icon>
                </span>
              </a>
            </li>
          </ul>

        </div>

        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">

          <div class="offcanvas-header justify-content-center">
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>

          <div class="offcanvas-body justify-content-between"> 
            <!-- <a href="#">
            <select class="filter-categories border-0 mb-0 me-5">
              <option disabled selected>Shop by Category</option>
              {% for category in all_category %}
             
              <option value="{{ category.url }}">{{ category.name }}</option>
             
              {% endfor %}
            </select> </a> -->


            <button type="button" class="btn btn-outline-warning dropdown-toggle btn-sm my-2" data-bs-toggle="dropdown" aria-expanded="false">
              Select a category
            </button>
  
          <ul class="dropdown-menu">
              {% for category in all_category %}
              <li><a class="dropdown-item" href="{{url_for('get_category' , id=category.id)}}">{{category.name}}</a></li>
              {% endfor %}
              
          </ul>

            <ul class="navbar-nav menu-list list-unstyled d-flex gap-md-3 mb-0">
              <li class="nav-item">
                <a href="index.html" class="nav-link active">Home</a>
              </li>
              
              <li class="nav-item">
                <a href="shop.html" class="nav-link">Shop</a>
              </li>
              <li class="nav-item">
                <a href="{{ url_for('filter_products') }}" class="nav-link">Filter Products</a>
              </li>
              <li class="nav-item">
                <a href="{{url_for('purchased_products')}}" class="nav-link">My Purchases</a>
              </li>
              <li class="nav-item">
                <a href="{{url_for('order')}}" class="nav-link">My Orders</a>
              </li>
             
            </ul>

            <div class="d-none d-lg-flex align-items-end">
              <ul class="d-flex justify-content-end list-unstyled m-0">
                <li>
                  <a href="{{url_for('profile')}}" class="mx-3">
                    <iconify-icon icon="healthicons:person" class="fs-4"></iconify-icon>
                  </a>
                </li>
                <li>
                  <a href="{{url_for('liked_products')}}" class="mx-3">
                    <iconify-icon icon="mdi:heart" class="fs-4"></iconify-icon>
                  </a>
                </li>

                  
        {% if current_user.is_authenticated %}
        <li class="nav-item mx-2" id="items"> 
          <a href="{{url_for('show_cart')}}" class="nav-link text-grey">
        <iconify-icon icon="mdi:cart" class="fs-4 position-relative"></iconify-icon><span class="position-absolute translate-middle badge rounded-circle bg-primary pt-2">
          {{cart | length}}
        </span>
      </a>
    </li>
    {% endif %}
              </ul>
             
              {% if current_user.role == 'admin' %}
              <ul class="navbar-nav menu-list list-unstyled d-flex gap-md-3 mb-0">
                <li class="nav-item">
                  <a href="{{url_for('admin_home')}}" class="nav-link"><b><u>Admin Home</u></b></a>
                </li>
              </ul>
              {% endif %}

            </div>

          </div>

        </div>

      </nav>



    </div>
  </header>